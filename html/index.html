<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>MOD</title>

    <link rel="apple-touch-icon" sizes="57x57" href="img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <link rel="manifest" href="img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#111111">
    <meta name="msapplication-TileImage" content="img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#111111">


    <link rel="stylesheet" type="text/css" href="css/fontello/css/fontello.css?v={{version}}"/>
    <!--<link rel="stylesheet" type="text/css" href="css/social.css?v={{version}}"/>-->
    <link rel="stylesheet" type="text/css" href="css/main.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="css/dashboard.css?v={{version}}"/>
    <!--<link rel="stylesheet" type="text/css" href="css/social.css?v={{version}}"/>-->
    <link rel="stylesheet" type="text/css" href="css/fonts.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="img/icons/icons.css?v={{version}}"/>
    <!-- PEDALS -->
    <link rel="stylesheet" type="text/css" href="css/pedals.css?v={{version}}"/>
    <!-- DEFAULT -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/default.css?v={{version}}"/>

    <script type="text/javascript">
      // for mod-app control
      var desktop = null
    </script>

    <script type="text/javascript" src="js/lib/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery-ui-1.10.1.custom.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.ba-resize.min.js"></script>
    <script type="text/javascript" src="js/lib/mustache.js?v={{version}}"></script>
    <script type="text/javascript" src="js/lib/jquery.svg.js?v={{version}}"></script>
    <script type="text/javascript" src="js/lib/sprintf-0.6.js"></script>
    <script type="text/javascript" src="js/lib/jquery.mousewheel.min.js?v={{version}}"></script>
    <script type="text/javascript" src="js/lib/jquery.textareaAutoResize.js?v={{version}}"></script>
    <script type="text/javascript" src="js/lib/arrive.min.js?v={{version}}"></script>
    <script type="text/javascript" src="js/lib/lunr.min.js?v={{version}}"></script>
    <script type="text/javascript" src="js/constants.js?v={{version}}"></script>

    <script type="text/javascript">

      {% autoescape None %}
      var TEMPLATES = {}
      SITEURL = '{{cloud_url}}'
      LV2_PLUGIN_DIR = '{{lv2_plugin_dir}}'
      var SAMPLERATE = {{sampleRate}}
      var NOTIFICATIONS_ENABLED = true
      var HARDWARE_PROFILE = JSON.parse(atob('{{hardware_profile}}'))
      var DEFAULT_ICON_TEMPLATE = '{{default_icon_template}}'
      var DEFAULT_SETTINGS_TEMPLATE = '{{default_settings_template}}'
      var DEFAULT_PEDALBOARD = '{{default_pedalboard}}'
      var MAX_SCREENSHOT_WIDTH = 600
      var MAX_SCREENSHOT_HEIGHT = 600
      var PACKAGE_SERVER_ADDRESS = ('{{package_server_address}}' ||
       document.location.origin.replace(/(https?:\/\/[^/:]+).*/,
          function(m, first) {
              return first + ':' + {{default_package_server_port}}
          })
      )
      var PACKAGE_REPOSITORY = '{{package_repository}}'
      var AVATAR_URL = '{{avatar_url}}'
      var JS_CUSTOM_CHANNEL = {{js_custom_channel}}
      var AUTO_CLOUD_BACKUP = {{auto_cloud_backup}}
      var DEBUG = true;
      if (!DEBUG) {
          console = console || {}
          console.log = function() {}
      }

      var INFO = {
          "hardware": {},
          "env": {},
          "python": {},
          "uname": {}
      }

// FIXME: what is this for?
// $('<script>').attr('src', PACKAGE_SERVER_ADDRESS+'/js/system.js').appendTo($('head'))

$('document').ready(function() {
    var preloadImages = [
        "/img/icons/blocked.svg",
        "/img/icons/25/reload.png",
    ];
    for (var i = 0; i < preloadImages.length; i++) {
        var img = new Image();
        img.src = preloadImages[i];
        preloadImages[i] = img;
    }

  desktop = new Desktop({
      titleBox: $('#pedalboard-info h1'),
      pedalboard: $('#pedalboard-dashboard'),
      zoomIn: $('.zoom-in'),
      zoomOut: $('.zoom-out'),
      rec: $('#rec'),
      addMidiButton: $('#mod-add-midi'),
      midiDevicesWindow: $('#midi-device-window'),
      midiDevicesList: $("#midi-device-list"),
      saveBox: $('#save-pedalboard'),
      saveButton: $('#pedalboard-info .js-save'),
      saveAsButton: $('#pedalboard-info .js-save-as'),
      resetButton:  $('#pedalboard-info .js-reset'),
      effectBox: $('#plugins-library'),
      pedalboardTrigger: $('#main-menu #mod-plugins'),
      cloudPluginBox: $('#cloud-plugins-library'),
      cloudPluginBoxTrigger: $('#mod-cloud-plugins'),
      pedalboardBox: $('#pedalboards-library'),
      pedalboardBoxTrigger: $('#main-menu #mod-pedalboard'),
      bankBox: $('#bank-library'),
      bankBoxTrigger: $('#main-menu #mod-bank'),
      bankList: $('#bank-list'),
      socialTrigger: $('#mod-social'),
      socialWindow: $('#mod-social-network'),
      loginWindow: $('#login-window'),
      registrationWindow: $('#registration-window'),
      shareButton: $('#pedalboard-info .js-share'),
      shareWindow: $('#share-window'),
      userName: $('#user-name'),
      userAvatar: $('#user-avatar'),
      networkIcon: $('#mod-cloud'),
      bluetoothIcon: $('#mod-bluetooth'),
      upgradeWindow: $('#mod-upgrade'),
      upgradeIcon: $('#mod-settings'),
      feedButton: $('#cloud-feed-timeline'),
      login: $('#login'),
      logout: $('#logout'),
      bypassLeftButton: $("#mod-bypassLeft"),
      bypassRightButton: $("#mod-bypassRight"),
      xrunsButton: $('#mod-xruns'),
  })

  if ('{{bundlepath}}' && '{{title}}') {
      desktop.title = '{{title}}'
      desktop.pedalboardBundle   = '{{bundlepath}}'
      desktop.pedalboardEmpty    = false
      desktop.pedalboardModified = true
  }

  if ({{using_app}}) {
      desktop.setupApp()
  }

  if ({{using_mod}}) {
      desktop.authenticateDevice(function (ok) {
          if (ok) {
              console.log("MOD authentication succeeded")
          } else {
              console.log("MOD authentication failed")
          }
      })
  }

  // start code for ajax loading bar

  NProgress.configure({
    template: '<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'
  });

  $(document)
  .ajaxStart(function(data) {
    NProgress.start();
  })
  .ajaxComplete(function() {
    NProgress.done();
  });

  // end code for ajax loading bar

  $.ajax({
      url: '/system/info',
      method: 'GET',
      success: function (info) {
          INFO = info
      },
      dataType: 'json'
  })

})

</script>

<script type="text/javascript" src="js/templates.js?v={{version}}"></script>
<script type="text/javascript" src="js/common.js?v={{version}}"></script>
<script type="text/javascript" src="js/wait.js?v={{version}}"></script>
<script type="text/javascript" src="js/file_transfer.js?v={{version}}"></script>
<script type="text/javascript" src="js/window.js?v={{version}}"></script>
<script type="text/javascript" src="js/tags.js?v={{version}}"></script>
<script type="text/javascript" src="js/modgui.js?v={{version}}"></script>
<script type="text/javascript" src="js/notification.js?v={{version}}"></script>
<script type="text/javascript" src="js/installation.js?v={{version}}"></script>
<script type="text/javascript" src="js/desktop.js?v={{version}}"></script>
<script type="text/javascript" src="js/pedalboard.js?v={{version}}"></script>
<script type="text/javascript" src="js/pedalboards.js?v={{version}}"></script>
<script type="text/javascript" src="js/banks.js?v={{version}}"></script>
<script type="text/javascript" src="js/cloudplugin.js?v={{version}}"></script>
<script type="text/javascript" src="js/effects.js?v={{version}}"></script>
<script type="text/javascript" src="js/login.js?v={{version}}"></script>
<script type="text/javascript" src="js/mididevices.js?v={{version}}"></script>
<script type="text/javascript" src="js/register.js?v={{version}}"></script>
<script type="text/javascript" src="js/feed.js?v={{version}}"></script>
<script type="text/javascript" src="js/social.js?v={{version}}"></script>
<script type="text/javascript" src="js/hardware.js?v={{version}}"></script>
<script type="text/javascript" src="js/share.js?v={{version}}"></script>
<!--<script type="text/javascript" src="js/bluetooth.js?v={{version}}"></script>-->
<!--<script type="text/javascript" src="js/upgrade.js?v={{version}}"></script>-->
<!--<script type="text/javascript" src="js/xrun.js?v={{version}}"></script>-->
<script type="text/javascript" src="js/host.js?v={{version}}"></script>
<!--<script type="text/javascript" src="js/presets.js?v={{version}}"></script>-->
<script type="text/javascript" src="js/nprogress.js?v={{version}}"></script>

<style type="text/css">
    /* STYLE FOR LOADING ANIMATION */
    body.initialized #loading { display: none; }
    .loadinganim { width:100px; height:100px; position:absolute; top:50%; left:50%; transform: translate(-50%, -50%); z-index:-1; }
    .loadinganim path { stroke:#883996; stroke-width:4; stroke-linecap:butt; }
    .loadingcircle { animation: loadingcircle 0.5s linear infinite; }
    @keyframes loadingcircle { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); }}
</style>
</head>
<body class="mod-dark">
  <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" id="loading" class="loadinganim" version="1.1">
   <g transform="translate(50, 50)"><g class="loadingcircle"><g transform="translate(-50,-50)">
    <path style="opacity:1;" d="M 49.999999,1.99999 A 46,46 0 0 0 37.576684,3.63555" />
    <path d="M 37.576684,3.63555 A 46,46 0 0 0 25.999998,8.43077" style="opacity:0.95;" />
    <path style="opacity:0.9;" d="m 25.999998,8.43077 a 46,46 0 0 0 -9.941122,7.62809" />
    <path d="M 16.058876,16.05886 A 46,46 0 0 0 8.430781,25.99999" style="opacity:0.85;" />
    <path style="opacity:0.8;" d="M 8.430781,25.99999 A 46,46 0 0 0 3.635561,37.57667" />
    <path d="M 3.635561,37.57667 A 46,46 0 0 0 2,50" style="opacity:0.75;" />
    <path style="opacity:0.7;" d="M 2,50 A 46,46 0 0 0 3.63556,62.4233" />
    <path d="M 3.63556,62.4233 A 46,46 0 0 0 8.430781,74" style="opacity:0.65;" />
    <path style="opacity:0.6;" d="m 8.430781,74 a 46,46 0 0 0 7.628093,9.9411" />
    <path d="m 16.058874,83.9411 a 46,46 0 0 0 9.941128,7.6281" style="opacity:0.55;" />
    <path style="opacity:0.5;" d="m 26.000002,91.5692 a 46,46 0 0 0 11.576682,4.7952" />
    <path d="M 37.576684,96.3644 A 46,46 0 0 0 50,98" style="opacity:0.45;" />
    <path style="opacity:0.4;" d="M 49.999999,98 A 46,46 0 0 0 62.423313,96.3644" />
    <path d="M 62.423313,96.3644 A 46,46 0 0 0 74,91.5692" style="opacity:0.35;" />
    <path style="opacity:0.3;" d="m 74,91.5692 a 46,46 0 0 0 9.941126,-7.6281" />
    <path d="M 83.941126,83.9411 A 46,46 0 0 0 91.56922,74" style="opacity:0.25;" />
    <path style="opacity:0.2;" d="M 91.56922,74 A 46,46 0 0 0 96.36444,62.4233" />
    <path d="M 96.36444,62.4233 A 46,46 0 0 0 98,50" style="opacity:0.15;" />
    <path style="opacity:0.1;" d="M 98,50 A 46,46 0 0 0 96.36444,37.57667" />
    <path d="M 96.36444,37.57667 A 46,46 0 0 0 91.56922,25.99999" style="opacity:0.05;" />
    <path style="opacity:0.02;" d="M 91.56922,25.99999 A 46,46 0 0 0 83.941126,16.05887" />
  </g></g></g>
  <path d="m 62.633535,68.542327 c 0,1.710496 -1.158195,2.565444 -3.473354,2.565444 l -18.357511,0 c -2.316079,0 -3.473963,-0.854948 -3.473963,-2.565444 l 0,-14.449074 c 0,-1.710794 1.157884,-2.566342 3.473963,-2.566342 l 18.357511,0 c 2.315159,0 3.473354,0.855548 3.473354,2.566342 l 0,14.449074 z M 40.80267,47.421483 c -1.579268,0 -2.921041,0.164408 -4.026564,0.493548 -1.105488,0.328817 -2.006985,0.790084 -2.703814,1.381966 -0.698239,0.592804 -1.204412,1.296722 -1.520206,2.111777 -0.31597,0.815975 -0.473569,1.724806 -0.473569,2.724061 l 0,14.369611 c 0,0.973684 0.157599,1.875514 0.473569,2.70488 0.315794,0.828456 0.821967,1.539075 1.520206,2.131569 0.696829,0.591882 1.598326,1.053148 2.703814,1.381976 1.105523,0.328519 2.447296,0.492927 4.026564,0.492927 l 18.357511,0 c 1.578958,0 2.921053,-0.164408 4.026574,-0.492927 1.104602,-0.328828 2.006731,-0.790094 2.704272,-1.381976 0.696918,-0.592494 1.203557,-1.303113 1.519893,-2.131569 0.316038,-0.829366 0.473446,-1.731196 0.473446,-2.70488 l 0,-14.369611 c 0,-0.999255 -0.157408,-1.908086 -0.473446,-2.724061 -0.316336,-0.815055 -0.822975,-1.518973 -1.519893,-2.111777 -0.697541,-0.591882 -1.59967,-1.053149 -2.704272,-1.381966 -1.105521,-0.32914 -2.447616,-0.493548 -4.026574,-0.493548 l -18.357511,0 z m 7.510278,-23.988304 0,6.519841 c 1.416989,0.01 2.573652,1.171586 2.573652,2.590095 l 0,5.270923 c 0,1.42552 -1.166103,2.591315 -2.590393,2.591315 l -3.387187,0 c -1.42369,0 -2.590106,-1.165795 -2.590106,-2.591315 l 0,-5.270923 c 0,-1.418509 1.156365,-2.580354 2.572744,-2.590095 l 0,-6.519841 -2.091077,0 c -1.234608,0 -2.285016,0.128177 -3.149705,0.386061 -0.864687,0.256354 -1.569827,0.617144 -2.115127,1.08055 -0.54591,0.462785 -0.942323,1.019047 -1.189546,1.667563 -0.246924,0.648815 -0.370153,1.353654 -0.370153,2.115427 l 0,11.241826 c 0,0.781873 0.123229,1.492493 0.370153,2.130958 0.247223,0.638465 0.643636,1.188026 1.189546,1.651421 0.5453,0.463706 1.25044,0.824197 2.115127,1.08116 0.864689,0.257885 1.915097,0.386372 3.149705,0.386372 l 14.36108,0 c 1.235218,0 2.285626,-0.128487 3.150315,-0.386372 0.864688,-0.256963 1.569528,-0.617454 2.114827,-1.08116 0.5456,-0.463395 0.942322,-1.012956 1.189546,-1.651421 0.246924,-0.638465 0.37023,-1.349085 0.37023,-2.130958 l 0,-11.241826 c 0,-0.761773 -0.123306,-1.466612 -0.37023,-2.115427 -0.247224,-0.648516 -0.643946,-1.204778 -1.189546,-1.667563 -0.545299,-0.463406 -1.250139,-0.824196 -2.114827,-1.08055 -0.864689,-0.257884 -1.915097,-0.386061 -3.150315,-0.386061 l -8.848713,0 z m 11.656808,10.366465 c 0.747474,0 1.354577,0.607415 1.354577,1.354576 0,0.747772 -0.607103,1.354265 -1.354577,1.354265 -0.74837,0 -1.354265,-0.606493 -1.354265,-1.354265 0,-0.747161 0.605895,-1.354576 1.354265,-1.354576 M 50.000002,9.3491652 c 22.447098,0 40.650851,18.2040528 40.650851,40.6505408 0,22.447709 -18.203753,40.651128 -40.650851,40.651128 -22.447469,0 -40.6508553,-18.203419 -40.6508553,-40.651128 0,-22.446488 18.2033863,-40.6505408 40.6508553,-40.6505408 m 0,6.0619268 c 19.099182,0 34.588924,15.489421 34.588924,34.588614 0,19.100403 -15.489742,34.589834 -34.588924,34.589834 -19.100346,0 -34.589384,-15.489431 -34.589384,-34.589834 0,-19.099193 15.489038,-34.588614 34.589384,-34.588614 m -4.520111,38.579866 2.285938,0 c 0.961502,0 1.747636,0.786444 1.747636,1.747948 l 0,11.464987 c 0,0.960294 -0.786743,1.747637 -1.747636,1.747637 l -2.285938,0 c -0.961814,0 -1.747948,-0.786133 -1.747948,-1.747637 l 0,-11.464987 c 0,-0.961504 0.785524,-1.747948 1.747948,-1.747948"
     style="fill:#212121;fill-opacity:1;fill-rule:evenodd;stroke:none"
     class="loadinglogo" />
</svg>
  <!-- NOTIFICATIONS -->
  <div id="notifications" class="mod-hidden mod-init-hidden"></div>
  <!-- END NOTIFICATIONS -->
    <!-- WRAPPER -->
    <div id="wrapper" class="mod-init-hidden">

        <!-- MANAGE PRESETS -->
        <div id="pedalboard-presets" class="save-popup mod-hidden">
            <div class="mod-box" style="width: 400px">
                <h1 class="pull-left">Manage presets</h1><span class="close">&times;</span>
                <form class="bottom">
                    <div class="controls clearfix">
                        <select class="preset-list" size="9">
                          <option>Preset name</option>
                          <i class=""></i>
                        </select>
                    </div>
                    <div class="controls actions">
                      <button class="btn btn-success">Assign selected</button>
                      <button class="btn btn-warning">Assign list</button>
                      <button class="btn btn-default">Rename</button>
                      <button class="btn btn-danger">Delete</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- END MANAGE PRESETS -->

        <!-- PEDALBOARD-SETTINGS-WINDOW -->
        <div id="pedalboard-settings" class="mod-hidden">
            <h1>Settings</h1>
            <div class="js-canvas"></div>
        </div>
        <!-- END PEDALBOARD-SETTINGS-WINDOW -->


        <!-- PEDALBOARD -->
        <div id="pedalboard">
            <!-- ZOOM CONTROLLERS -->
            <div id="zoom-controllers">
                <span class="zoom-out"></span>
                <span class="zoom-in"></span>
            </div>
            <!-- END ZOOM CONTROLLERS -->

            <!-- SAVE WINDOW -->
            <div id="save-pedalboard" class="save-popup mod-hidden">
                <div class="mod-box">
                    <h1>Saving Pedalboard</h1>
                    <form class="bottom">
                        <div class="controls clearfix">
                            <label>Name</label>
                            <input type="text"/>
                        </div>
                        <div class="controls actions">
                            <button class="js-cancel-saving btn btn-danger">Cancel</button>
                            <button class="js-save btn btn-success">Save</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- END SAVE WINDOW -->

            <!-- LOGIN WINDOW -->
            <div id="login-window" class="save-popup mod-hidden">
                <div class="mod-box">
                    <div class="clearfix">
                    <h1 class="pull-left">Login</h1>
                    <small class="pull-right"><a onclick="goRegister()" href="#register"><strong>REGISTER</strong></a></small>
                    </div>
                    <!-- The div below will hold error message. It must have class "error" -->
                    <!--
                    <div class="error mod-hidden"></div>
                    <form class="bottom">
                        <div class="form-group">
                            <label>User ID</label>
                                <input type="text" class="form-control" name="user_id" value="" />
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                                <input type="password" class="form-control" name="password" value="" />
                        </div>
                        <div class="form-group">
                            <a class="js-close btn btn-default"/>Cancel</a>
                            <input type="submit" class="btn btn-primary" />
                        </div>
                    </form>
                    -->
                </div>
            </div>
            <!-- END LOGIN WINDOW -->

            <!-- REGISTRATION WINDOW -->
            <div id="registration-window" class="save-popup mod-hidden">
                <div id="registration-form" class="mod-box">
                    <h1>Register</h1>
                    <!-- The div below will hold error message. It must have class "error" -->
                    <!--
                    <div class="error mod-hidden"></div>
                    <form class="bottom form-horizontal">
                        <div class="control-group">
                            <label>User ID</label>
                            <div class="mod-controls">
                                <input type="text" name="user_id"/>
                            </div>
                        </div>
                        <div class="control-group">
                            <label>Name</label>
                            <div class="mod-controls">
                                <input type="text" name="name"/>
                            </div>
                        </div>
                        <div class="control-group">
                            <label>E-mail</label>
                            <div class="mod-controls">
                                <input type="text" name="email"/>
                            </div>
                        </div>
                        <div class="control-group">
                            <label>Country</label>
                            <div class="mod-controls">
                               <select name="country">
                                {% include country_list.html %}
                            </select>
                        </div>
                        <div class="control-group">
                            <label>Password</label>
                            <div class="mod-controls">
                                <input type="password" name="password"/>
                            </div>
                        </div>
                        <div class="control-group">
                            <label>Password (again)</label>
                            <div class="mod-controls">
                                <input type="password" name="password2"/>
                            </div>
                        </div>
                        <div class="textright">
                            <a class="js-close">Cancel</a>
                            <input type="submit" class="btn btn-info"/>
                        </div>
                    </form>
                    -->
                </div>
            </div>
            <div id="registration-result" class="mod-box mod-hidden">
                <div class="js-close">x</div>
                <p></p>
            </div>
        </div>
        <!-- END REGISTRATION WINDOW -->

        <!-- PEDALBOARD SHARE WINDOW -->
        <div id="share-window" class="save-popup mod-hidden">
            <div class="box">
                <h1>SHARE</h1>
                <a class="close-window" id="record-cancel"><i class="icon-black icon-remove"></i></a>
                <form>
                    <div class="form-group" id="share-window-form">
                        <label for="pedalboard-share-title"><input type="text" class="form-control" id="pedalboard-share-title"  placeholder="How will you call this pedalboard?"/></label>
                        <label for="pedalboard-share-comment"><textarea rows="4" id="pedalboard-share-comment" class="form-control" placeholder="What's special about this pedalboard?"></textarea></label>
                    </div>
                    <div id="share-window-wrapper">
                        <div class="textcenter" id="record-step-1">
                            <h2>Record a sample</h2>
                            <span class="btn btn-danger" id="record-rec">&nbsp;&#9654;</span>
                            <p><small>(optional)</small><p>
                        </div>
                        <div class="controls actions mod-hidden" id="record-step-2">
                            <h2 class="textcenter">Recording starts in</h2>
                            <span class="btn btn-danger" id="record-countdown">3</span>
                        </div>
                        <div class="textcenter mod-hidden" id="record-step-3">
                            <h2>Recording</h2>
                            <span class="btn btn-primary" id="record-stop">15</span>
                            <p><small>(click the square to stop)</small><p>
                        </div>
                        <div class="textcenter mod-hidden" id="record-step-4">
                            <small>&nbsp;</small>
                            <button class="btn btn-info btn-large btn-block " id="record-play">
                                <i class="icon-white icon-play"></i> Listen
                            </button>
                            <button class="btn btn-info btn-large btn-block active mod-hidden" id="record-play-stop" style="margin-top: 0">
                                <i class="icon-white icon-stop"></i> Stop
                            </button>
                            <button class="btn btn-danger btn-large btn-block" id="record-again">
                                <i class="icon-white icon-repeat"></i> Record again
                            </button>
                            <button class="btn btn-inverse btn-large btn-block" id="record-delete">
                                <i class="icon-white icon-remove"></i> Delete sample
                            </button>
                        </div>
                        <div class="textleft mod-hidden" id="share-window-links">
                            <small>&nbsp;</small>
                            <p>Uploaded completed!</p>
                            <p>Share to facebook, twitter, etc etc goes here</p>
                            <p id="share-window-url"></p>
                        </div>
                    </div>
                    <div id="share-window-bottom">
                        <div id="share-wait-screenshot">Waiting for screenshot...</div>
                        <div class="textright">
                            <button style="margin-top: 3px" class="js-close btn btn-default btn-success" id="record-share" disabled="disabled">Just share</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- END PEDALBOARD SHARE WINDOW -->

        <!-- PEDALBOARD-ACTIONS -->
        <header id="pedalboard-actions">

            <!-- PEDALBOARD-SETTINGS -->
            <div id="pedalboard-info">
                <h1 class="top bottom {{titleblend}}">{{fulltitle}}</h1>
                <!-- <div class="favorite"></div> -->
                <div class="actions">
                    <button class="js-preset menu-trigger">Presets</button>
                      <ul class="drop-menu">
                        <li>Save</li>
                        <li>Save as</li>
                        <li class="sub-menu-trigger">Load <span class="pull-right">&rsaquo;</span>
                            <ul class="menu-preset-list sub-menu">
                              <li>preset</li>
                              <li>preset</li>
                              <li>preset</li>
                              <li>preset</li>
                              <li>preset</li>
                              <li>preset</li>
                              <li>preset</li>
                              <li>preset</li>
                            </ul>
                        </li>
                        <li class="js-pedalboard-presets" >Manage / assign</li>
                      </ul>
                    <button class="js-reset">New Pedalboard</button>
                    <button class="js-save">Save</button>
                    <button class="js-save-as">Save as</button>
                    <button class="js-share">Share</button>
                </div>
            </div>
            <!-- END PEDALBOARD-SETTINGS -->

            <!-- PEDALBOARD-SHARING -->

            <!-- END PEDALBOARD-SHARING -->

        </header>
        <!-- END PEDALBOARD-ACTIONS -->

        <!-- PEDALBOARD-DASHBOARD -->
        <div id="pedalboard-dashboard">
        </div>
        <!-- END PEDALBOARD-DASHBOARD -->

        <!-- MIDI DEVICE LIST WINDOW -->
        <div id="midi-device-window" class="save-popup mod-hidden">
            <div class="mod-box">
                <h1>MIDI Device List</h1>
                <form class="bottom">
                    <div class="controls clearfix" id="midi-device-list">
                    </div>
                    <div class="controls actions">
                        <button class="js-cancel btn btn-danger">Cancel</button>
                        <button class="js-submit btn btn-success">Save</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- MIDI DEVICE LIST WINDOW -->

    </div>
    <!-- END PEDALBOARD -->


    <!-- MAIN MENU-->
    <div id="main-menu" class="mod-init-hidden">
        <div id="mod-social" class="icon hide"></div>
        <div id="mod-plugins" class="icon selected"></div>
        <div id="mod-pedalboard" class="icon"></div>
        <div id="mod-bank" class="icon"></div>
        <div id="mod-cloud-plugins" class="icon"></div>
        <div id="banks-saving">Auto saving banks...</div>

        <div id="mod-ram" class="icon">
          <div class="progress" id="ram-bar" style="width: 100%;">
            <div class="bar"></div> <!-- not sure if this is needed -->
          </div>
          <p class="progress-title" id="ram-bar-text">
            ram
          </p>
        </div>
        <div id="mod-cpu" class="icon">
          <div class="progress" id="cpu-bar" style="width: 100%;">
            <div class="bar"></div> <!-- not sure if this is needed -->
          </div>
          <p class="progress-title" id="cpu-bar-text">
            cpu
          </p>
        </div>
        <div id="mod-xruns" class="icon">0 Xruns</div>
        <div id="mod-bypassRight" class="icon mod-bypass">Bypass R</div>
        <div id="mod-bypassLeft" class="icon mod-bypass">Bypass L</div>
        <div id="mod-add-midi" class="icon">Add MIDI Device</div>
        <div id="mod-settings" class="icon hide"></div>
        <div id="mod-bluetooth" class="icon hide"></div>
        <div id="mod-cloud" class="icon hide"></div>

    </div>
    <!-- END MAIN MENU-->


    <!-- plugins-library -->
    <div id="plugins-library" class="js-main-library mod-init-hidden">
        <!-- EFFECTS MENU ITEMS -->
        <ul class="clearfix js-category-tabs">
            <li id="effect-tab-All">All</li>
            <li id="effect-tab-Delay">Delay</li>
            <li id="effect-tab-Distortion">Distortion</li>
            <li id="effect-tab-Dynamics">Dynamics</li>
            <li id="effect-tab-Filter">Filter</li>
            <li id="effect-tab-Generator">Generator</li>
            <li id="effect-tab-Modulator">Modulator</li>
            <li id="effect-tab-Reverb">Reverb</li>
            <li id="effect-tab-Simulator">Simulator</li>
            <li id="effect-tab-Spatial">Spatial</li>
            <li id="effect-tab-Spectral">Spectral</li>
            <li id="effect-tab-Utility">Utility</li>
        </ul>
        <span class="js-settings-trigger settings selected"></span>
        <span class="js-effects-fold fold"></span>
        <!-- END EFFECTS MENU ITEMS -->

        <!-- EFFECTS LIBRARY SETTINGS WINDOW -->
        <div id="plugins-library-settings-window">
            <form class="box form-inline">
                <div class="form-group">
                    <input id="effectSearch" class="form-control" placeholder="Keyword(s)" type="search"/>
                </div>
            </form>
        </div>
        <!-- END EFFECTS LIBRARY SETTINGS WINDOW -->

        <!-- EFFECTS OF A CATEGORY -->
        <div id="plugins-list" class="js-effects-list">
            <div class="nav nav-left"></div>
            <div id="plugins-results">
                <div id="plugin-results-wrapper">
                    <div id="effect-content-All" class="plugins-wrapper"></div>
                    <div id="effect-content-Delay" class="plugins-wrapper"></div>
                    <div id="effect-content-Distortion" class="plugins-wrapper"></div>
                    <div id="effect-content-Dynamics" class="plugins-wrapper"></div>
                    <div id="effect-content-Filter" class="plugins-wrapper"></div>
                    <div id="effect-content-Generator" class="plugins-wrapper"></div>
                    <div id="effect-content-Modulator" class="plugins-wrapper"></div>
                    <div id="effect-content-Reverb" class="plugins-wrapper"></div>
                    <div id="effect-content-Simulator" class="plugins-wrapper"></div>
                    <div id="effect-content-Spatial" class="plugins-wrapper"></div>
                    <div id="effect-content-Spectral" class="plugins-wrapper"></div>
                    <div id="effect-content-Utility" class="plugins-wrapper"></div>
                </div>
            </div>
            <div class="nav nav-right"></div>
        </div>
        <!-- END EFFECTS OF A CATEGORY -->
    </div>
    <!-- END plugins-library -->

    <!-- Cloud Plugins LIBRARY -->
    <div id="cloud-plugins-library" class="mod-hidden mod-init-hidden">
        <div>
            <header>
                <h1 class="bottom top">
                    PLUGIN STORE
                    <!-- <span class="help"></span> -->
                </h1>
                <button class="icon mod-bypass mod-hidden" style="float: right; font-size: 21px;" id="cloud_update_all">Update All</button>
                <button class="icon mod-bypass mod-hidden" style="float: right; font-size: 21px;" id="cloud_install_all">Install All</button>
            </header>
            <div class="filter clearfix">
                <h2>Filter</h2>
                <div class="control-group">
                    <input type="checkbox" name="installed" id="cloud-plugins-installed" />
                    <label for="cloud-plugins-installed">Installed only</label>
                    <input type="checkbox" name="stable" id="cloud-plugins-stable" />
                    <label for="cloud-plugins-stable">Stable only</label>
                </div>
                <ul class="categories list list-unstyled">
                    <li id="cloud-plugin-tab-All">All</li>
                    <li id="cloud-plugin-tab-Delay">Delay</li>
                    <li id="cloud-plugin-tab-Distortion">Distortion</li>
                    <li id="cloud-plugin-tab-Dynamics">Dynamics</li>
                    <li id="cloud-plugin-tab-Filter">Filter</li>
                    <li id="cloud-plugin-tab-Generator">Generator</li>
                    <li id="cloud-plugin-tab-Modulator">Modulator</li>
                    <li id="cloud-plugin-tab-Reverb">Reverb</li>
                    <li id="cloud-plugin-tab-Simulator">Simulator</li>
                    <li id="cloud-plugin-tab-Spatial">Spatial</li>
                    <li id="cloud-plugin-tab-Spectral">Spectral</li>
                    <li id="cloud-plugin-tab-Utility">Utility</li>
                </ul>
                <div class="form-group">
                    <input class="form-control" placeholder="Filter by keyword" type="search"/>
                </div>

            </div>
            <div class="cloud-plugins clearfix js-cloud-plugins">
                <!-- EFFECTS OF A CATEGORY -->
                <div id="cloudplugin-results-wrapper">
                    <div id="cloud-plugin-content-All" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Delay" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Distortion" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Dynamics" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Filter" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Generator" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Modulator" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Reverb" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Simulator" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Spatial" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Spectral" class="plugins-wrapper"></div>
                    <div id="cloud-plugin-content-Utility" class="plugins-wrapper"></div>
                </div>
                <!-- END EFFECTS OF A CATEGORY -->
            </div>
        </div>
    </div>
    <!-- END Cloud Plugins Library -->

    <!-- PEDALBOARDS LIBRARY -->
    <div id="pedalboards-library" class="mod-hidden mod-init-hidden">
        <div class="box clearfix">
            <header>
                <h1 class="bottom top">
                    Pedalboards Library
                    <!-- <span class="help"></span> -->
                </h1>
                <div class="form-group">
                    <input id="searchPedalboard" class="form-control" length="20" placeholder="Filter by keyword(s)" type="search"/>
                </div>
                <!-- <span class="close btn btn-danger js-close">Close</span> -->
            </header>
            <!--<div class="form-horizontal filter clearfix">

		<!-- TODO make this work (branch pedalboard_filter) -->
		<!--
                <div class="control-group">
                    <label>Expression Pedal</label>
                    <select>
                        <option>Select</option>
                        <option>0</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Inputs</label>
                    <select>
                        <option>Select</option>
                        <option>1</option>
                        <option>2</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Outputs</label>
                    <select>
                        <option>Select</option>
                        <option>1</option>
                        <option>2</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Addressed Encoders</label>
                    <select>
                        <option>Select</option>
                        <option>0</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Addressed Footswitch</label>
                    <select>
                        <option>Select</option>
                        <option>0</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                    </select>
                </div>
            </div>
		-->
            <div class="pedalboards clearfix js-pedalboards"></div>
        </div>
    </div>

    <!-- BANK LIBRARY -->
    <div id="bank-library" class="mod-hidden mod-init-hidden">
        <!-- END BOX -->
        <div class="box">
         <header>
            <h1 class="bottom top">
                Banks
                <!-- <span class="help"></span> -->
            </h1>
            <!-- <span class="close btn btn-danger">Close</span> -->
        </header>

        <!-- BANK-LIST -->
        <div id="bank-list">
            <div class="add-bank" id="js-add-bank"><span class="icon-add"><i></i><b></b></span>Add Bank</div>
            <span class="js-canvas"></span>
        </div>
        <!-- END BANK-LIST -->

        <!-- BANK-PEDALBOARDS -->
                <!--
                <div id="bank-pedalboards-mode" class="mode clearfix">
                  <span class="grid selected"></span>
                  <span class="list"></span>
                </div>
            -->
          <div id="bank-edit">
            <div id="bank-addressings" class="mod-hidden">
              <h1>Untitled</h1>
              <form class="form">
                <div class="checkbox">
                  <label><input type="checkbox" class="checkbox" id="js-navigate-bank" />Navigate pedalboards using footswitches</label>
                </div>
              </form>
              <!--
              <h2>Bank addressings:</h2>
              <small>Select footswitch functionality for this bank. Pedalboard footswitches will be overriden.</small>
                <select name="foot-0">
                  <option value="0">Free</option>
                  <option value="2">Next pedalboard</option>
                  <option value="3">Previous pedalboard</option>
              </select>
              <select name="foot-1">
                  <option value="0">Free</option>
                  <option value="2">Next pedalboard</option>
                  <option value="3">Previous pedalboard</option>
              </select>
              <select name="foot-2">
                  <option value="0">Free</option>
                  <option value="2">Next pedalboard</option>
                  <option value="3">Previous pedalboard</option>
              </select>
              <select name="foot-3">
                  <option value="0">Free</option>
                  <option value="2">Next pedalboard</option>
                  <option value="3">Previous pedalboard</option>
              </select>
              -->
          </div>
          <div id="bank-pedalboards" class="grid-selected">
          </div>
        </div>
          <!-- END BANK-PEDALBOARDS -->

          <!-- BANK-PEDALBOARDS-SEARCH -->
          <div id="bank-pedalboards-search">
            <!-- BOX -->
            <div class="box">
                <!-- FORM HORIZONTAL -->
                <div class="filter clearfix">
                    <div class="clearfix">
                        <div class="form-group ">
                            <label for="searchBank" >Select pedalboards</label>
                            <input id="searchBank" class="form-control" length="20" placeholder="Filter by keyword(s)" type="search"/>
                        </div>
			<!-- TODO make this work (branch pedalboard_filter) -->
			<!--
                        <div class="control-group alignleft">
                            <label>Exp. Pedals</label>
                            <select>
                                <option>Select</option>
                                <option>0</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                            </select>
                        </div>
                        <div class="control-group alignleft">
                            <label>Footswitches</label>
                            <select>
                                <option>Select</option>
                                <option>0</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                            </select>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="control-group alignleft bottom">
                            <label>Inputs</label>
                            <select>
                                <option>Select</option>
                                <option>1</option>
                                <option>2</option>
                            </select>
                        </div>
                        <div class="control-group alignleft bottom">
                            <label>Outputs</label>
                            <select>
                                <option>Select</option>
                                <option>1</option>
                                <option>2</option>
                            </select>
                        </div>
                        <div class="control-group alignleft bottom">
                            <label>Rot. Buttons</label>
                            <select>
                                <option>Select</option>
                                <option>0</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                            </select>
                        </div>
			-->
                    </div>
                </div>
                <!-- END FORM-HORIZONTAL -->

                <!-- BANK-PEDALBOARDS-RESULT -->
                <div id="bank-pedalboards-result">
                    <div class="js-canvas grid-selected">
                    </div>
                </div>
                <!-- END BANK-PEDALBOARDS-RESULT -->

            </div>
            <!-- END BOX -->
        </div>
        <!-- END BANK-PEDALBOARDS-SEARCH -->
    </div>
    <!-- END BOX -->
</div>
<!-- END BANK LIBRARY -->


<!-- MOD SOCIAL NETWORK -->
<div id="mod-social-network" class="clearfix mod-hidden mod-init-hidden">
    <div> <!-- wrapper -->
        <header class="navbar navbar-default">
          <div class="container">
              <div class="col-sm-3 navbar-header">
                  <button type="button" class="navbar-toggle hide">
                      <span class="sr-only">Toggle navigation</span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                  </button>
                  <figure class="navbar-brand">
                      <a ui-sref="home"><img src="img/social/logo-b.png"></a>
                  </figure>
              </div>
          <div class="col-sm-9">
              <div class="collapse navbar-collapse" collapse="menuCollapsed">
                  <div class="col-sm-8 center-block text-center" style="padding-top: 0.6em;">
                      <form ng-submit="search()">
                      <div class="input-group">
                              <input type="text" ng-model="terms" class="form-control" placeholder="Search...">
                              <span class="input-group-btn">
                                  <button type="submit" class="btn btn-default" style="box-shadow: none !important" >
                                      <i class="glyphicon glyphicon-search"></i>
                                  </button>
                              </span>
                          </div>
                      </form>
                  </div>
                  <ul class="nav navbar-nav pull-right">
                  <li class="hide" ui-sref-active="active">
                  </li>
                  <li ng-if="!logged" ui-sref-active="active">
                      <a onclick="goRegister()">
                          Register
                      </a>
                  </li>
                  <li class="login">
                      <a id="login">
                          Login
                      </a>
                  </li>
                  <li class="logout"><a id="logout">Logout</a></li>
                  </ul>
              </div>
              </div>
          </div>
      </header>
      <div class="content-wrapper">
            <div class="container">
                <div class="col-sm-12 home-feed">
                              <!-- MAIN -->
                    <div id="social-main" class="span9">
                        <div class="box bottom left top row-fluid">
                            <!-- FEED -->
                            <div class="feeds">
                              <div class="more"><button class="btn btn-block btn-default mod-hidden">Load more posts...</button></div>
                            </div>
                        </div>
                        <!-- END MAIN -->
                        <!-- ASIDE -->
                        <div id="social-aside" class="span3"></div>
                        <!-- END ASIDE -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    <!-- END WRAPPER -->
    <!-- MOD UPDATE/UPGRADE TOOLTIP -->
<div class="tooltip mod-hidden" style="right:102px;">
    <div class="arrow"></div>
    <div class="text">New updates are available. Click to upgrade.</div>
</div>
    <!-- END MOD UPDATE/UPGRADE TOOLTIP -->

    <!-- MOD UPDATE/UPGRADE BOX -->
    <div id="mod-upgrade" class="mod-hidden">
        <div class="box">
            <div class="mod-upgrade-packages-list">
                <p>The following software updates are available:</p>
                <ul></ul>
                <p class="textright">
                    <button class="js-close btn btn-xs btn-danger">Cancel</button>
                    <button class="js-upgrade btn btn-xs btn-info">Upgrade</button>
                </p>
            </div>
            <div class="download-progress mod-hidden">
             <div class="download-info">
              <div class="downloading-file">Downloading <span class="filename"></span> (<span class="file-number"></span>/<span class="total-files"></span>)</div>
          </div>
          <div class="download-start">Starting download...</div>
          <div class="download-installing">Installing packages... (may take a while)</div>
          <div class="installation-checking">Installation complete! Reloading...</div>
          <div class="progressbar-wrapper"><div class="progressbar"></div></div>
      </div>
  </div>
</div>
<!-- END MOD UPDATE/UPGRADE BOX -->




</body>
</html>
